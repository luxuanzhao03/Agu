APP_NAME=A-share Semi-Automated Trading Assistant
ENV=dev
LOG_LEVEL=INFO

# Data providers (ordered)
DATA_PROVIDER_PRIORITY=tushare,akshare
TUSHARE_TOKEN=
MARKET_DATA_CACHE_ENABLED=true
MARKET_DATA_CACHE_DB_PATH=data/market_cache.db

# Risk defaults
MAX_SINGLE_POSITION=0.05
MAX_DRAWDOWN=0.12
MAX_INDUSTRY_EXPOSURE=0.20
MIN_TURNOVER_20D=5000000
DEFAULT_COMMISSION_RATE=0.0003
DEFAULT_SLIPPAGE_RATE=0.0005
FEE_MIN_COMMISSION_CNY=5
FEE_STAMP_DUTY_SELL_RATE=0.0005
FEE_TRANSFER_RATE=0.00001

# Small capital mode
SMALL_CAPITAL_MODE_ENABLED=false
SMALL_CAPITAL_PRINCIPAL_CNY=2000
SMALL_CAPITAL_CASH_BUFFER_RATIO=0.10
SMALL_CAPITAL_MIN_EXPECTED_EDGE_BPS=80
SMALL_CAPITAL_LOT_SIZE=100

# Fundamental enrichment + buy guardrail
ENABLE_FUNDAMENTAL_ENRICHMENT=true
FUNDAMENTAL_MAX_STALENESS_DAYS=540
FUNDAMENTAL_BUY_WARNING_SCORE=0.50
FUNDAMENTAL_BUY_CRITICAL_SCORE=0.35
FUNDAMENTAL_REQUIRE_DATA_FOR_BUY=false
TUSHARE_DISCLOSURE_WARNING_SCORE=0.75
TUSHARE_DISCLOSURE_CRITICAL_SCORE=0.90
TUSHARE_FORECAST_WARNING_PCT=-35
TUSHARE_FORECAST_CRITICAL_PCT=-60
SMALL_CAP_PLEDGE_CRITICAL_RATIO=50
SMALL_CAP_UNLOCK_WARNING_RATIO=0.20
SMALL_CAP_UNLOCK_CRITICAL_RATIO=0.45
SMALL_CAP_OVERHANG_WARNING_SCORE=0.75
AUTOTUNE_RUNTIME_OVERRIDE_ENABLED=true

# Storage paths
AUDIT_DB_PATH=data/audit.db
SNAPSHOT_DB_PATH=data/snapshot.db
REPLAY_DB_PATH=data/replay.db
HOLDINGS_DB_PATH=data/holdings.db
STRATEGY_GOV_DB_PATH=data/strategy_gov.db
AUTOTUNE_DB_PATH=data/autotune.db
LICENSE_DB_PATH=data/license.db
JOB_DB_PATH=data/job.db
ALERT_DB_PATH=data/alert.db
EVENT_DB_PATH=data/event.db

# Alert dispatch channels (optional)
ALERT_EMAIL_ENABLED=false
ALERT_SMTP_HOST=
ALERT_SMTP_PORT=465
ALERT_SMTP_USERNAME=
ALERT_SMTP_PASSWORD=
ALERT_SMTP_USE_TLS=false
ALERT_SMTP_USE_SSL=true
ALERT_EMAIL_FROM=
ALERT_IM_ENABLED=false
ALERT_IM_DEFAULT_WEBHOOK=
ALERT_NOTIFY_TIMEOUT_SECONDS=10
ALERT_RUNBOOK_BASE_URL=
ONCALL_CALLBACK_SIGNING_SECRET=
ONCALL_CALLBACK_REQUIRE_SIGNATURE=false
ONCALL_CALLBACK_SIGNATURE_TTL_SECONDS=600
ONCALL_CALLBACK_MAPPING_JSON=
ONCALL_RECONCILE_DEFAULT_ENDPOINT=
ONCALL_RECONCILE_TIMEOUT_SECONDS=10

# Ops scheduler (optional)
OPS_SCHEDULER_ENABLED=false
OPS_SCHEDULER_TICK_SECONDS=30
OPS_SCHEDULER_TIMEZONE=Asia/Shanghai
OPS_SCHEDULER_SLA_LOG_COOLDOWN_SECONDS=1800
OPS_SCHEDULER_SYNC_ALERTS_FROM_AUDIT=true
OPS_JOB_SLA_GRACE_MINUTES=15
OPS_JOB_RUNNING_TIMEOUT_MINUTES=120
COMPLIANCE_EVIDENCE_SIGNING_SECRET=
COMPLIANCE_EVIDENCE_VAULT_DIR=reports/compliance_vault
COMPLIANCE_EVIDENCE_EXTERNAL_WORM_ENDPOINT=
COMPLIANCE_EVIDENCE_EXTERNAL_KMS_WRAP_ENDPOINT=
COMPLIANCE_EVIDENCE_EXTERNAL_AUTH_TOKEN=
COMPLIANCE_EVIDENCE_EXTERNAL_TIMEOUT_SECONDS=10
COMPLIANCE_EVIDENCE_EXTERNAL_REQUIRE_SUCCESS=false

# Strategy governance
ENFORCE_APPROVED_STRATEGY=false
STRATEGY_REQUIRED_APPROVAL_ROLES=risk,audit
STRATEGY_MIN_APPROVAL_COUNT=2

# Data license governance
ENFORCE_DATA_LICENSE=false

# API auth (optional)
AUTH_ENABLED=false
AUTH_HEADER_NAME=X-API-Key
# format: key1:research,key2:risk,key3:audit,key4:portfolio,key5:admin,key6:readonly
AUTH_API_KEYS=
