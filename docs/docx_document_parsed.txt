A股半自动交易辅助系统商业分析与系统设计
执行摘要
本报告以“金融科技产品专家 + A股量化投资顾问”的视角，面向真实资金交易场景，提出一套可商用、可落地的《A股半自动交易辅助系统》产品与技术方案。系统定位为“合规的投资辅助决策工具”，不执行自动交易、不接入券商交易接口、不代客理财；仅通过行情计算、因子分析、策略回测、风险监控与信号预警，输出结构化的研究结论与决策支持材料，由用户自行下单并自担风险。该定位与A股市场对证券投资咨询、投资者适当性、证券信息传播与程序化交易监管的制度框架紧密对齐，并在产品层面以“功能边界 + 权限控制 + 输出口径 + 证据留痕”实现可审计可证明的合规落地。[1]
本方案将系统拆分为六大核心模块：行情与基础数据层、计算与因子引擎、策略与回测引擎、风险控制与合规模块、信号与预警中心、可视化投研看板。在A股真实交易规则层面，系统在回测与风控中强制建模并校验关键市场约束，例如：T+1（买入证券交收前不得卖出，回转交易品种除外）、涨跌幅限制、风险警示股票/退市整理交易规则、停牌与退市整理期特殊安排等，以避免“回测可行、实盘不可行”的常见落地失败。[2]
商业化方面，本报告给出适用于个人与机构的定价模型、客户画像、渠道与销售策略、运营合规流程，并提供本地与云部署双方案（含加密、RBAC、审计日志、灾备）与可验收KPI。数据侧建议以“合规授权数据源 + 可替代的公开数据源”构建分层数据体系：头部商业数据（终端/API）用于实盘级稳定与一致性；公开/社区数据用于MVP与成本控制；并在系统中内置“数据授权与使用审计”以降低二次分发与侵权风险。[3]
受单次对话输出长度限制，本文交付的是可直接用于立项、产品PRD、技术设计与投研制度建设的“商业交付版”：覆盖用户要求的十项内容（通过章节映射实现），并提供流程图（Mermaid）、对比表、伪代码、MVP清单、里程碑与人力估算、风险清单与合规措置、验收KPI。未指定的业务参数（用户数、频率、预算等）均明确标注为“未指定”，并给出可配置默认值与可扩展路径。
系统定位与合规边界
本章节对应用户要求的“系统定位与合规边界”，并补充与后续模块设计直接相关的监管要点与产品化落地方法。
监管语境下的核心结论：在 中国[4] A股市场，若系统对外“有偿提供涉及具体证券的分析、预测或建议”，或以软件形态提供“证券选择/买卖时机建议”等功能，可能被认定为证券投资咨询/投顾业务，需取得相应业务许可；同时，传播证券期货信息需要遵守信息传播管理规定；面向普通投资者提供服务还牵涉投资者适当性义务与风险揭示。[5]
合规边界定义与“可证明”落地
一、系统的允许做与禁止做（产品硬边界）
维度
允许（本系统）
禁止（本系统）
设计落地点（可证明）
交易执行
生成“交易准备单/信号/提醒/风控建议”
自动下单、自动撤单、自动改价、自动调仓
不提供券商交易接口；不提供本机模拟点击/键鼠脚本；输出仅为报告/消息/文件
账户权限
用户本地维护“理论组合/跟踪组合”
代客持仓管理、托管资金、代客操作
数据结构与界面命名：Portfolio=研究组合；明确“非账户”
输出口径
风险提示、概率/评分、触发条件、情景分析
保本保收益承诺；以收益为名的吸收资金；“必涨”“稳赚”类表述
输出模板强制带风险揭示与不保证收益声明；营销文案审核流
服务对象
自用投研；向具备资质机构提供“工具软件”
未持牌主体对公众有偿荐股/投顾
SaaS合同条款：客户须具备相应资质并自行合规；系统提供留痕
数据传播
在授权范围内“内部使用”
交易所行情/交易信息的未授权传播与转售
数据授权台账 + API审计 + 导出限制 + 水印
上述边界的监管相关性来自：证券投资咨询业务必须取得许可的制度安排；“荐股软件”若具备对具体证券的分析、走势预测、品种选择或买卖时机建议等功能，可能被纳入证券投资咨询监管范畴；证券交易信息的使用传播受到交易所规则约束。[6]
二、对“建议”的合规表达：从“荐股结论”到“研究证据链”
为降低被认定为“对公众荐股/投顾”的风险（尤其在ToC场景），建议采用“证据链输出”而非“直接指令式建议”：
信号输出格式：策略A触发 → 触发原因（因子/形态/资金/事件） → 风险约束校验（是否ST/停牌/涨跌停/T+1影响） → 备选动作（观察/分批/延后） → 风险揭示（自担）
默认策略库出厂状态：仅提供“研究模板/示例策略”，不提供一键“荐股榜单”；需用户明确配置参数并签署研究用途声明后，才生成具体证券层面的信号。
强制披露：每次导出/推送携带“适用范围、假设条件、历史回测不代表未来、用户独立决策”的固化文本。
这一思路与监管对“投资分析、预测、建议”的界定逻辑一致，并可与投资者适当性原则形成闭环（经营机构的适当性意见不构成收益保证，投资者须独立承担风险）。[7]
证券投资咨询/投顾相关关键规则点
一、证券投资咨询许可与人员要求（高风险红线）
《证券、期货投资咨询管理暂行办法》明确：在境内从事证券期货投资咨询业务须取得业务许可，未获许可不得从事；咨询形式涵盖委托、讲座、媒体文章、以及通过电话/传真/电脑网络等提供服务。[8]
“荐股软件监管暂行规定”进一步强调：向投资者销售或提供具备“提供具体证券投资分析意见/走势预测/品种选择建议/买卖时机建议”等功能的软件并获取经济利益，属于从事证券投资咨询业务，应经许可取得资格。[9]
《证券投资顾问业务暂行规定》对“证券投资顾问业务”作出定义：接受客户委托，提供涉及证券及相关产品的投资建议服务（品种选择、组合、理财规划等），并获取经济利益。[10]
产品化落地建议（重要）：若计划对外商业化且输出“具体证券的买卖时机/品种选择建议”，应采用两条合规路径之一：1) B2B模式：将系统定位为“投研与风控工具”，销售对象限定为具备相应资质的证券公司/投顾机构/私募投研团队（其对外咨询由其自行合规），你方合同与系统功能均不直接面向公众荐股。2) 内部自用模式：系统仅用于自营/自有资金投研决策，不对外提供有偿咨询服务；对外仅提供“软件工具 + 通用研究能力”，不提供个股买卖时机建议。[11]
投资者适当性、信息传播与程序化交易监管的关联要求
一、投资者适当性（尤其ToC与面向普通投资者的ToB2C）
《证券期货投资者适当性管理办法》确立了“了解投资者、评估产品/服务、风险揭示、匹配意见”的基本框架，并强调投资者独立承担风险，经营机构的匹配意见不构成收益保证。即便系统不执行交易，若商业模式构成“向投资者提供相关业务服务”，建议参照该框架建设：用户分层、风险测评、功能分级开放、风险揭示留痕与投诉处理。[12]
二、证券期货信息传播管理
信息传播管理规定强调规范证券期货信息传播行为，涉及传播主体与信息类型边界。产品在“资讯推送、舆情监测、研报摘要、公告解读”场景中，应设置版权与来源标注机制、避免夸大和误导性宣传，并保留传播记录与审计。[13]
三、程序化交易监管（虽不交易，但要支持客户合规）
中国证监会[14] 发布《证券市场程序化交易管理规定（试行）》，并由交易所制定实施细则，对程序化交易报告、异常交易行为监测、高频交易管理、信息系统管理等提出要求。你的系统不下单不等于与程序化交易无关：机构客户可能用你的信号驱动其交易系统，因此你需要提供“策略说明书、版本管理、触发记录、风控参数、信号复盘证据”以支持其报告与内控。[15]
核心功能模块与产品流程设计
本章节覆盖用户要求的“核心功能模块设计（行情数据、计算引擎、策略模型、风险控制、信号输出、可视化看板）”，并给出可落地流程图、模块清单、验收标准与输出物定义。
模块清单与职责边界
模块
关键子模块
输入
核心处理
输出
可验收KPI（示例）
行情与基础数据
交易日历、行情K线/分笔、复权因子、公司行动、公告/事件、行业分类
数据源API/文件/推送
清洗、对齐、去重、缺失修复、PIT对齐
统一数据视图（DataMart）
日更准点率≥99%；关键字段缺失率≤0.1%（阈值可配，未指定）
计算与因子引擎
因子库、特征工程、指标计算、缓存与版本
DataMart
批处理/增量、并行计算、特征版本化
Feature Store
日频全市场因子计算≤30min（未指定硬件下给目标）；可重复计算一致性≥99.99%
策略与回测引擎
策略模板、参数优化、组合构建、成本与约束建模
Feature Store
信号生成、撮合仿真、交易规则约束
回测报告、策略卡片
回测可复现；关键约束覆盖率=100%（清单见风控章）
风控与合规模块
规则引擎、风险指标、黑白名单、合规审计
信号/持仓/行情
事前/事中/事后校验；告警；留痕
风险告警、阻断建议、审计日志
高风险规则命中通知延迟≤1s（未指定）；审计日志完整性100%
信号与预警中心
触发器、订阅、分级推送、解释器
策略输出 + 风控结果
信号分级、解释、去噪、频控
预警消息、交易准备单
告警准确率（人工标注）≥90%（未指定）；误报率≤10%
可视化投研看板
市场脚本、组合监控、策略对比、复盘中心
全部
可视化、钻取、导出
Dashboard、导出PDF/Excel
页面P95响应≤2s（未指定）；关键报表可导出且带水印
半自动实盘工作流
以下流程强调“输出建议—人下单—回写复盘”的闭环，确保系统在真实资金场景中能控制情绪交易并可审计。
flowchart TD  A[盘前数据更新] --> B[研究与选股: 因子/行业/事件扫描]  B --> C[策略信号生成]  C --> D[风控规则校验: 涨跌停/停牌/ST/T+1/仓位等]  D -->|通过| E[生成交易准备单: 分批方案/价位区间/风险提示]  D -->|未通过| F[输出阻断原因与替代动作]  E --> G[人工下单执行: 券商客户端/柜台]  G --> H[交易回写: 手动导入成交/持仓]  H --> I[盘后复盘: 信号-成交-收益归因]  I --> J[策略参数与风控参数迭代]
该闭环特别强调A股关键交易制度约束需要在风控校验中显式建模：例如深交所规则明确“投资者买入的证券在交收前不得卖出（回转交易品种除外）”，决定了信号与执行节奏必须适配T+1；风险警示股票/退市整理股票存在专门涨跌幅限制与投资者约束；交易信息使用与传播也受交易所规则约束。[16]
信号体系与输出物标准化
为兼顾合规与可用性，建议把“信号”产品化为四类输出物（每类均可审计、有解释、有风险提示）：
1) 机会雷达（Research Radar）：仅输出“候选池 + 触发原因 + 风险标签”，不直接输出“买/卖指令”。2) 交易准备单（Trade Prep Sheet）：给出分批/价位区间/最大亏损承受/止损条件/不可交易原因。3) 风险告警（Risk Alert）：涨跌停临近、停牌风险、异常波动、组合回撤触发等。4) 复盘报告（Post-mortem）：信号触发→实际成交→偏差原因（滑点/涨跌停/停牌/执行延迟）→改进建议。
数据架构、技术实现与部署方案
本章节覆盖用户要求的“数据架构与技术实现（数据源、计算引擎、回测框架、本地/云端部署）”与“落地部署方案（成本、安全性）”，并给出安全设计、API设计要点、性能与稳定性目标。
数据源分层与供应商对比
数据分层原则（建议）
L0：公共/开源数据（研发与MVP）
L1：商用授权数据（实盘与机构）
L2：自建衍生数据（因子库、情绪指标、事件标签）
L3：合规与审计数据（留痕、版本、操作日志）
主流数据源（示例对比，具体采购与授权范围以合同为准）
数据源类型
代表性供应商/平台
覆盖与特点
接入方式
适合阶段
合规要点
机构级数据终端/API
Wind[17]
提供Client API接入数据、支持量化场景与历史回溯等描述
Client API/桌面侧
机构/实盘
需授权；内外网隔离与调用审计 [18]
数据接口（衍生于终端）
同花顺[19]
数据接口支持多语言SDK与HTTP接口，作为数据库衍生产品
SDK/HTTP
研发/实盘
权限与数据量分级；避免超授权使用 [20]
金融数据终端与数据服务
东方财富[21]
数据服务覆盖沪深上市公司等多品类，并提供量化接口
终端/量化接口
研发/实盘
合同约束与再分发限制 [22]
社区数据API
TuShare[23]
提供HTTP/SDK数据获取方式与文档化接口
HTTP/SDK
MVP/个人
注意数据稳定性与来源一致性 [24]
云量化投研平台
JoinQuant（聚宽）[25]
提供API文档与数据服务能力描述
云端API/SDK
研发/教育
若使用其“实盘接口”需另行合规评估 [26]
云量化与数据工具包
RiceQuant（米筐）[27]
提供回测与数据工具包接口说明
SDK/API
研发/回测
数据与回测假设需审计化落地 [28]
开放金融数据平台
DataYes（通联数据）[29]
提供多种数据接入方式与数据字典/因子库
API/文件
研发/机构
数据许可与落地方式需合同化 [30]
开源采集库
AKShare
项目定位为财经研究数据获取，接口需随网站变化维护
Python库
MVP/研究
不建议作为实盘唯一数据源（稳定性/合规不确定） [31]
交易所数据使用与传播风险提示：深交所规则明确交易信息归交易所所有，未经许可不得使用和传播；即便获得许可也不得再提供给第三方使用/传播。这对你的“信号推送、行情展示、报表导出、SaaS多租户”设计有直接约束：必须对外输出做权限与内容降维（例如只输出计算结果，不输出可还原交易所行情的原始数据）。[32]
数据流水线与存储设计
flowchart LR  subgraph Ingest[数据接入层]    A1[实时行情/分钟] --> B1[流式接入]    A2[日频行情/复权] --> B2[批量接入]    A3[财务/基本面] --> B3[PIT对齐]    A4[公告/新闻/事件] --> B4[NLP标签/事件库]  end  subgraph Lake[数据湖/原始层]    C1[(Object Store/Parquet)]  end  subgraph DWM[清洗与一致性层]    D1[(行情宽表)]    D2[(公司行动表)]    D3[(财务PIT表)]    D4[(交易日历/标的主数据)]  end  subgraph Feature[特征与因子层]    E1[(Feature Store)]    E2[因子版本与元数据]  end  subgraph Serve[服务层]    F1[策略回测服务]    F2[信号服务]    F3[风控服务]    F4[看板与导出]  end  B1 --> C1  B2 --> C1  B3 --> C1  B4 --> C1  C1 --> DWM  DWM --> Feature  Feature --> Serve
关键工程要点（实盘级）
PIT（Point-in-Time）与未来函数控制：财务数据必须按披露时点可得性进入回测；事件数据需按公告发布时间进入特征层。否则会造成“回测幻觉”。
统一标的主数据：证券代码、板块/行业体系、上市状态（上市/退市整理/终止上市）、风险警示状态（ST/*ST等）必须版本化管理，并与交易规则联动。[33]
交易日历与交易时间窗口：深交所对竞价交易时间与收盘集合竞价明确规定；系统用它驱动“盘前/盘中/盘后”任务编排与告警节奏。[34]
推荐技术栈与性能指标
推荐技术栈（可落地、可迭代）
层级
推荐选型（示例）
选型理由
服务端语言
Python（研究/因子/回测）、Go/Rust（高并发信号与风控服务）
研究效率与工程性能兼顾（未指定约束下的通用组合）
API
REST（FastAPI）+ 内部gRPC
外部易集成、内部低开销
存储
Postgres（元数据/权限/审计）、ClickHouse（分钟或Tick查询）、对象存储/本地NAS（Parquet）
OLTP/OLAP分离；列式存储适配因子与回测
计算
Ray/Dask（并行因子计算）、任务编排（Airflow）
批处理与增量计算可控
缓存与消息
Redis（低延迟缓存）、Kafka/Redis Stream（事件流）
告警与异步解耦
前端
React/Vue + ECharts
可视化与交互效率
延迟目标（辅助决策，不追求HFT）- 分钟级行情：从数据到信号推送 P95 ≤ 2s（未指定，建议目标）- 日频更新：收盘后到全市场因子与组合风险报告完成 ≤ 30–60min（依硬件与标的范围可调）- 系统稳定性：月度可用性 ≥ 99.5%（MVP可设99.0%）
API设计要点（对外可商用）
类别
Endpoint示例（语义）
关键返回
安全与审计
行情查询
/market/bars /market/snapshot
K线/快照
速率限制；字段脱敏（若含授权数据）
因子服务
/factor/compute /factor/query
因子值/版本
版本号强制返回；审计记录调用人
策略回测
/backtest/run /backtest/report
指标、交易清单（研究级）
回测参数与数据版本写入不可篡改日志
信号中心
/signal/today /signal/subscribe
候选池、触发解释、风险标签
推送水印；订阅白名单；频控
风控
/risk/check /risk/alerts
命中规则、建议动作
规则与阈值版本化；命中留痕
运维审计
/audit/events /audit/export
操作记录、导出记录
WORM存储/签名校验
本地部署与云部署对比与安全设计
部署方案对比（适用人群、成本、安全）
维度
本地部署
云部署
适用人群
个人高净值、对数据保密强、离线投研
小型私募、投研团队、多地协作
初始成本
硬件一次性投入（未指定）
订阅式按量付费（未指定）
运维成本
用户自运维；升级较重
统一运维；弹性扩容
数据合规
更易控制“内部使用”
需更严格的多租户隔离与权限
可用性
依赖本地网络与硬件
可做跨区容灾与高可用
安全风险
终端丢失/内网渗透
云误配置/多租户隔离失败
安全设计基线（两种部署均需）- 加密：传输TLS；存储加密（数据库TDE/磁盘加密）；密钥独立托管（KMS/HSM，未指定则至少分权保管）。- 权限控制：RBAC + 最小权限；研究员/交易员/管理员/审计员分离。- 审计日志：数据导出、信号推送、参数变更、策略发布必须可追溯；日志防篡改（WORM或签名链）。- 灾备：日频全量备份 + 小时增量（未指定）；演练季度一次；RPO/RTO按业务等级定义。
安全与数据治理的必要性来自数据安全与个人信息保护等法律对数据处理活动的要求，以及金融数据分级分类与个人信息安全规范等标准化体系对“最少必要、目的明确、保护措施”的要求。[35]
策略体系设计与回测到实盘适配
本章节覆盖用户要求的“策略体系设计（趋势、均值回归、多因子、行业轮动、事件驱动，适配A股规则）”与“回测与实盘适配步骤、伪代码、流程图”。
A股交易制度约束对策略的硬性影响
策略体系必须在生成信号、回测撮合、风险校验、执行节奏四处对齐制度约束，否则会出现严重的实盘偏差：
T+1约束：深交所规则明确买入证券交收前不得卖出（回转交易品种除外），这意味着日内反转、超短做T在股票现货上不可按T+0假设回测；持仓管理要按“最早可卖出日”管理。[36]
风险警示与退市整理规则：风险警示股票/退市整理股票涨跌幅限制更窄或不同，且存在交易与投资者限制；主板风险警示涨跌幅目前为5%（并存在调整为10%的制度优化安排），系统必须参数化支持“规则版本”。[37]
涨跌停导致无法成交：趋势策略与事件策略在涨停板容易“追不到/卖不出”，回测必须建模“成交失败/部分成交/排队”。[38]
策略族设计
下面给出五类策略族的“可商用模板”，每类都强调：输入数据、信号逻辑、A股适配点、风控联动点。
一、趋势策略（Trend Following）
适用：中低频（日频/分钟），规避高频监管与执行摩擦。
核心思想：用趋势过滤器减少震荡区间误触发，配合分批与止损控制回撤。
# 趋势策略伪代码（示例）universe = liquid_stocks(exclude_ST=true, exclude_suspended=true)for stock in universe:    ma20 = SMA(close, 20)    ma60 = SMA(close, 60)    atr  = ATR(high, low, close, 14)    long_signal  = (ma20 > ma60) and (close crosses above ma20)    exit_signal  = (close < ma20 - 2*atr) or drawdown(stock) > stop_loss# A股适配：若 stock 今日涨停/跌停/停牌，则信号仅记录不产生“可执行建议”# T+1：买入当日不允许卖出，因此 exit_signal 触发时若不可卖则进入“预警队列”并计划次日处理
二、均值回归策略（Mean Reversion）
适用：强约束条件下的短线（1–5日），必须强化涨跌停与流动性过滤。
A股特点：涨跌停与情绪化波动较常见，均值回归若不做“跌停不可买/卖”处理会失真。
# 均值回归伪代码（示例）for stock in universe:    z = (close - SMA(close, 20)) / STD(close, 20)    buy  = (z < -2.0) and (volume > vol_threshold) and (not limit_down_today)    sell = (z >  0.0) or (holding_days >= 5) or risk_alert_hit
三、多因子选股（Multi-factor）
适用：周频/月频调仓，最符合“半自动辅助”场景。
关键工程：因子PIT、行业中性、极值处理、样本外验证、风格漂移监控。
# 多因子伪代码（示例）factors = [value, quality, momentum, low_vol, liquidity]X = winsorize(zscore(standardize(factors)))score = weighted_sum(X, weights)rank = rank_by(score, within=industry_neutral)candidate = topN(rank, N=50)portfolio = optimize(candidate, constraints={max_position=5%, max_industry=20%})# 输出：候选池 + 组合建议 + 风险暴露报告（不自动交易）
四、行业轮动（Sector Rotation）
适用：市场结构轮动明显阶段；用来降低“选股随机性”，增强可解释性。
关键输入：行业指数动量、拥挤度、盈利预期变化、资金流。
# 行业轮动伪代码（示例）industries = all_industries()for ind in industries:    mom = return(ind_index, 20)    breadth = advancers_ratio(ind)    score_ind = 0.6*mom + 0.4*breadthtop_industries = topK(score_ind, K=3)stocks = pick_stocks_within(top_industries, by="multi_factor_score")
五、事件驱动（Event-driven）
适用：公告、业绩、重大事项与政策窗口。
关键工程：事件标准化、时间戳、信息来源、延迟建模；避免“事后归因”。
# 事件驱动伪代码（示例）events = fetch_events(date=today)for e in events:    if e.type in ["业绩预告超预期", "回购", "重大合同"]:        stock = e.ticker        if pass_risk_filters(stock) and not limit_up_today:            emit_watch(stock, reason=e.summary, confidence=event_model(e))
回测与实盘适配步骤（可执行SOP）
阶段
目标
必做检查
产物
数据准备
避免未来函数
PIT对齐、复权与公司行动一致性
数据对账报告
研究回测
验证有效性
成本/滑点/涨跌停/停牌/T+1建模
策略卡片v1
稳健性评估
防过拟合
滚动窗口、分层回测、交易拥挤度
稳健性报告
仿真实盘（纸面/模拟）
验证执行偏差
信号→手工下单→回写成交；统计偏差
执行偏差报告
小规模真金
控风险上线
限资金、限频、强止损、强复盘
上线评审记录
正式运行
稳定可控
风控阈值与告警SLA；周/月复盘
运行月报
特别强调：在A股，回测引擎必须把交易规则当作“一等公民”。例如深交所风险警示股票交易存在投资者门槛与单日买入数量限制等制度安排，系统在生成“可执行建议”前必须进行规则校验并留痕说明。[33]
风险控制体系与必须实现的风控规则清单
本章节对应用户要求的“风险控制体系（止损、仓位、过滤ST、涨跌停、停牌、T+1规则等）”，并给出规则清单与示例参数。
风险控制分层：规则引擎 + 指标风控 + 操作风控
规则引擎（硬约束）：交易制度、合规边界、黑白名单、账户/组合规则（强制拦截或强提示）。
指标风控（软约束）：回撤、波动、集中度、因子暴露、流动性风险（触发降杠杆/降仓）。
操作风控（流程约束）：二人复核、变更审批、灰度发布、应急开关、复盘闭环。
必须实现的风控规则清单（示例）
类别
规则
触发条件（示例，可配置）
动作
A股制度依据/风险点
交易制度
T+1可卖约束
sell_date < buy_settle_date
阻断卖出建议；改为“次日处理预警”
买入证券交收前不得卖出（回转交易品种除外）[36]
交易制度
涨跌停/价格限制
price == limit_up 或 price == limit_down
信号降级；提示“可能无法成交”
涨跌幅限制与风险警示特殊比例需版本化[38]
交易制度
风险警示股票限制
风险警示标识=真
默认剔除；或需手动白名单
风险警示交易规则与限制[33]
交易制度
停牌/退市整理
suspended==true 或 in_delist_board==true
阻断新增建议；仅允许风险提示
退市整理与信息披露要求[32]
流动性
最小成交额/换手
avg_turnover_20d < X
降权或剔除
防滑点与无法成交（未指定）
组合集中度
单票上限
position > 5%
阻断/降仓建议
降回撤与尾部风险（未指定）
行业集中度
单行业上限
industry_exposure > 20%
再平衡建议
避免行业系统性风险（未指定）
回撤控制
组合最大回撤
dd_portfolio > 8%/12%
降仓至X；冻结新开仓n天
情绪交易抑制与资金保护（未指定）
止损止盈
个股ATR止损
close < entry - k*ATR
触发卖出预警（考虑T+1）
执行可行性与规则联动[36]
模型风控
策略失效监控
近N日胜率/收益显著劣化
降权/下线；进入评审
模型治理（未指定）
合规审计
信号再分发限制
导出次数/接收方异常
触发审计告警
交易信息传播限制[32]
示例风控参数（按客群给默认档位）
参数
个人版默认（示例）
机构版默认（示例）
说明
单票最大仓位
5%
2%–3%
机构更强调分散（未指定）
组合最大回撤阈值
12%
8%
回撤触发降仓（未指定）
行业最大暴露
25%
15%–20%
行业轮动需额外审批（未指定）
交易频率上限
日级
日/周级
降低摩擦与执行风险（未指定）
风险警示股票
默认剔除
默认剔除（白名单需审批）
与交易规则与风控一致[39]
商用价值、真实资金适配性与商业化方案
本章节覆盖用户要求的“商用价值与真实资金适配性”“商业化应用场景”“定价模型与客户画像、渠道与销售策略、运营合规流程”。
为什么适合真实资金：从“胜率幻觉”到“过程可控”
真实资金的关键不是“回测收益最大”，而是“可执行、可解释、可复盘、可风控”。本系统通过以下机制提升实盘适配性：
把A股规则内化为风控与回测的硬约束：T+1、风险警示/退市整理规则、涨跌幅限制等直接决定能否成交与何时成交，系统将其在信号层显式提示并在回测中建模。[40]
降低情绪交易：输出“交易准备单 + 风险标签 + 触发解释”，用流程替代冲动；并通过回撤阈值触发“冻结新开仓/降仓”等动作，把情绪波动变成可审计的规则。
强调证据链与复盘闭环：信号触发、风控命中、用户执行与否、成交回写全部留痕，使策略迭代基于数据而非感觉。
目标客户画像与场景
客群
典型需求
购买驱动
关键决策人
关键风险与对策
个人投资者（进阶）
体系化选股与风控、减少情绪
想把“看盘”升级为“策略化流程”
自己
输出口径避免“保收益”；功能分级与风险揭示[41]
小型私募/家办
多策略研究、组合风控、复盘
提升投研效率与一致性
投研负责人/CIO
需支持程序化交易监管的证据留痕（即便不下单）[42]
投研团队（券商/资管）
因子研究、策略评估、看板
降研发成本、统一平台
投研总监/IT
数据授权与接口审计；权限隔离[43]
企业自有资金
风险可控、合规可审计
内控与治理要求
财务总监/风控
审计日志与审批流必须完善（未指定）
可执行的商业化定价模型（示例）
定价原则：软件订阅费 + 功能模块费 + 席位费 +（可选）数据源成本转嫁；避免用“收益分成/保证收益”作为主定价，以降低合规与纠纷风险。
套餐
面向
核心功能
价格模型（示例）
个人专业版
个人
日频策略库、风控、看板、有限信号推送
¥X/月（未指定）
团队版
3–10人
协作、策略版本、审计、私有化部署可选
¥X/席位/月 + 部署费（未指定）
机构版
私募/资管
多租户或私有化、全量审计、SLA、定制接口
年费 + 实施服务费（未指定）
数据增强包
可选
商用数据源接入、Tick/分钟、事件库
成本+加价（未指定，按供应商报价）
渠道与销售策略（合规导向）
B2B直销：以“投研与风控基础设施”切入，先卖“数据治理 + 复盘 + 风控”再扩展策略模块。
生态合作：与数据供应商、研究社区、量化平台合作做联合方案（前提：数据授权清晰）。[44]
合规运营流程（必须）：营销文案审核 → 用户适当性问卷（如适用）→ 协议签署与风险揭示 → 权限开通 → 使用留痕与投诉处理 → 定期风控与合规复核。[45]
竞争优势与差异化分析
本章节对应用户要求的“竞争优势与差异化（区别于全自动交易、普通行情软件、荐股平台）”。
与三类替代方案的结构化对比
维度
本系统（半自动辅助）
全自动交易系统
普通行情软件
“荐股/信号平台”（高风险）
合规风险
低到中（取决于输出口径与商业模式）
中到高（接口、代客、程序化监管）
低
高（易触及投顾/荐股监管）[11]
安全风险
较低（不接交易接口）
高（交易权限与资金安全）
低
中（常伴随营销与导流风险）
实盘适配
强（强调规则建模与风控）
强但门槛高
弱（缺策略与风控闭环）
不稳定（口径与质量参差）
可解释与复盘
强（证据链与审计）
中（执行快但解释常不足）
弱
弱到中（常缺严格回测与约束）
商业化可持续
强（可服务多客群）
受监管与技术成本影响大
易同质化
监管风险导致不可持续
关键差异化点在于：1) 不接入交易接口（降低资金安全、系统风险、合规压力）。2) 把交易规则与风控前置（减少实盘“不可成交/不可卖出”失败）。3) 强调证据链、审计与复盘（更符合机构治理与真实资金使用）。[46]
迭代方向、MVP清单与里程碑路线图
本章节覆盖用户要求的“未来迭代方向（AI因子挖掘、多策略组合、大盘情绪指数、实盘信号复盘体系）”以及“MVP与开发里程碑（时间与人力估算）、KPI与验收标准”。
MVP功能清单（建议三个月内可交付）
优先级
MVP模块
功能点
验收标准（示例）
P0
数据层
日频行情、复权、交易日历、标的主数据、ST/停牌状态
数据对账通过；日更准点率≥99%（未指定）
P0
回测引擎
日频事件驱动回测；成本/滑点；涨跌停/停牌/T+1约束
约束覆盖清单=100%（见风控章）[47]
P0
风控规则
仓位上限、回撤阈值、ST过滤、停牌过滤、涨跌停提示
命中必拦截；日志可追溯
P0
信号中心
候选池、触发解释、分级告警、交易准备单导出
信号延迟P95≤2s（日内）；解释字段完整（未指定）
P1
看板
组合监控、策略对比、回测报告、复盘中心v1
关键报表可导出且带水印
P1
安全合规
RBAC、审计日志、导出限制
导出/推送全留痕；权限最小化[48]
开发里程碑与人力估算（示例）
假设：目标为“团队版MVP（单租户）+ 可扩展到机构私有化”，未指定并发用户数，默认 20–50 活跃用户/日。
阶段
周期（周）
主要交付物
角色配置（人）
需求与合规设计
2
PRD、合规边界清单、数据字典、验收指标
产品1、量化1、合规/法务0.5、架构1
数据层与权限
3
数据接入、主数据、权限/RBAC、审计v1
后端2、数据1、测试1
因子与回测
4
因子引擎v1、回测引擎v1、报告模板
量化2、后端1、测试1
风控与信号
3
风控规则引擎、信号中心、推送通道
后端2、前端1、测试1
看板与交付
2
看板v1、部署脚本、运维手册
前端1、后端1、运维0.5
试运行与复盘
2
试运行报告、缺陷修复、版本冻结
全员
路线图（3/6/12/24个月）
gantt  title A股半自动交易辅助系统路线图（示例）  dateFormat  YYYY-MM-DD  axisFormat  %m  section 三个月  MVP上线（数据+回测+风控+信号） :a1, 2026-03-01, 90d  section 六个月  多策略组合与权重管理          :b1, after a1, 90d  实盘信号复盘体系v2            :b2, after a1, 90d  section 十二个月  AI因子挖掘（可解释+审计）      :c1, after b1, 180d  大盘情绪指数与拥挤度监控       :c2, after b1, 180d  机构版私有化与高可用            :c3, after b1, 180d  section 二十四个月  多资产与跨市场扩展（可选）      :d1, after c1, 365d  策略治理与合规报告自动生成      :d2, after c1, 365d
迭代方向的合规约束提醒：AI因子挖掘与信号生成在对外商业化时，需要更严格的“输出口径控制 + 证据链解释 + 风险揭示 + 留痕审计”，以降低被认定为“荐股软件/投顾输出”的风险；同时，若客户将信号接入其程序化交易系统，应支持其满足程序化交易管理规定及交易所实施细则的报告与系统管理要求。[49]
[1] [5] [6] [7] [8] [23] https://jsnews.jschina.com.cn/zt2024/fzsxxxpt/hdxf/xzfg/202404/t20240415_3390705.shtml
https://jsnews.jschina.com.cn/zt2024/fzsxxxpt/hdxf/xzfg/202404/t20240415_3390705.shtml
[2] [16] [19] [27] [32] [33] [36] [37] [38] [39] [40] [43] [46] [47] https://docs.static.szse.cn/www/lawrules/rule/stock/trade/W020230217564423808793.pdf
https://docs.static.szse.cn/www/lawrules/rule/stock/trade/W020230217564423808793.pdf
[3] [18] [44] https://www.wind.com.cn/mobile/ClientApi/zh.html
https://www.wind.com.cn/mobile/ClientApi/zh.html
[4] [35] [48] https://www.npc.gov.cn/npc/c2/c30834/202106/t20210610_311888.html
https://www.npc.gov.cn/npc/c2/c30834/202106/t20210610_311888.html
[9] [11] [14] [17] [49] https://www.csrc.gov.cn/shanghai/c105565/c1555523/1555523/files/%E9%99%84%E4%BB%B61_%E4%B8%AD%E5%9B%BD%E8%AF%81%E7%9B%91%E4%BC%9A%E5%86%B3%E5%AE%9A%E4%BF%AE%E6%94%B9%E7%9A%84%E8%A7%84%E8%8C%83%E6%80%A7%E6%96%87%E4%BB%B6.pdf
https://www.csrc.gov.cn/shanghai/c105565/c1555523/1555523/files/%E9%99%84%E4%BB%B61_%E4%B8%AD%E5%9B%BD%E8%AF%81%E7%9B%91%E4%BC%9A%E5%86%B3%E5%AE%9A%E4%BF%AE%E6%94%B9%E7%9A%84%E8%A7%84%E8%8C%83%E6%80%A7%E6%96%87%E4%BB%B6.pdf
[10] https://www.shanghaiinvest.com/cn/viewfile.php?id=6205
https://www.shanghaiinvest.com/cn/viewfile.php?id=6205
[12] [41] [45] https://www.csrc.gov.cn/csrc/c106256/c1653849/content.shtml
https://www.csrc.gov.cn/csrc/c106256/c1653849/content.shtml
[13] [21] https://www.cfachina.org/governmentrules/departmentregulations/202208/t20220817_29633.html
https://www.cfachina.org/governmentrules/departmentregulations/202208/t20220817_29633.html
[15] [42] https://www.csrc.gov.cn/csrc/c101954/c7480579/content.shtml
https://www.csrc.gov.cn/csrc/c101954/c7480579/content.shtml
[20] https://quantapi.10jqka.com.cn/
https://quantapi.10jqka.com.cn/
[22] [29] https://choice.eastmoney.com/dataservice
https://choice.eastmoney.com/dataservice
[24] [25] https://tushare.pro/document/1?doc_id=129
https://tushare.pro/document/1?doc_id=129
[26] https://www.joinquant.com/api?f=home&m=footer
https://www.joinquant.com/api?f=home&m=footer
[28] https://www.ricequant.com/doc/quant/backtest
https://www.ricequant.com/doc/quant/backtest
[30] https://m.datayes.com/
https://m.datayes.com/
[31] https://akshare.akfamily.xyz/introduction.html
https://akshare.akfamily.xyz/introduction.html
[34] https://toujiao.sfccn.com/newsdetail?id=47
https://toujiao.sfccn.com/newsdetail?id=47